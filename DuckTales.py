import random
import time


def step1():
    print(
        '–£—Ç–∫–∞-–º–∞–ª—è—Ä ü¶Ü —Ä–µ—à–∏–ª–∞ –≤—ã–ø–∏—Ç—å –∑–∞–π—Ç–∏ –≤ –±–∞—Ä. '
        '–í–∑—è—Ç—å –µ–π –∑–æ–Ω—Ç–∏–∫? ‚òÇÔ∏è'
    )
    option = ''
    options = {'–¥–∞': True, '–Ω–µ—Ç': False}
    while option not in options:
        print('–í—ã–±–µ—Ä–∏—Ç–µ: {}/{}'.format(*options))
        option = input()

    if options[option]:
        return step2_umbrella()
    return step2_no_umbrella()


def final_fantasy():
    print('''\n–ù–∞—á–∞–ª–∞—Å—å –±—É—Ä—è.
–£—Ç–∫–∞ –ø–æ–Ω—è–ª–∞, –≥–¥–µ –æ–Ω–∞ —Å–µ–π—á–∞—Å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å.
–ë–∞—Ä –±—ã–ª –æ—Ç–ª–æ–∂–µ–Ω –Ω–∞ –¥—Ä—É–≥–æ–π –¥–µ–Ω—å.
–£—Ç–∫–∞ —Å—Ç–æ—è–ª–∞ –Ω–∞ –∫—Ä–∞—é –¥–µ–≤—è—Ç–∏—ç—Ç–∞–∂–∫–∏ –æ—á–µ—Ä–µ–¥–Ω–æ–≥–æ —Å–ø–∞–ª—å–Ω–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –∏ –¥—É–º–∞–ª–∞:\n
–≠—Ç–æ—Ç –≥–æ—Ä–æ–¥ –ª—é–±–∏—Ç –º–µ–Ω—è. –Ø –≤–∏–¥–µ–ª –µ–≥–æ –∏—Å—Ç–∏–Ω–Ω–æ–µ –ª–∏—Ü–æ.
–£–ª–∏—Ü—ã - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–≤–µ–∂–µ–ø—Ä–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥–æ—Ä–æ–≥ - –¥–æ—Ä–æ–≥, —Å–¥–µ–ª–∞–Ω–Ω—ã—Ö —Å –¥—É—à–æ–π...
–ò –∫–æ–≥–¥–∞ —Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω—ã, \
–≤—Å–µ —ç—Ç–∏ –≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞—á–Ω—É—Ç —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è...
–ö–æ–≥–¥–∞ —Å–∫–æ–ø–∏–≤—à–µ–µ—Å—è –±–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–æ –∏ —É–¥–æ–±—Å—Ç–≤–∞ –≤—Å–ø–µ–Ω—è—Ç—Å—è –∏–º –¥–æ –ø–æ—è—Å–∞,
–í—Å–µ –∞–π—Ç–∏—à–Ω–∏–∫–∏ –∏ –∑—É–º–µ—Ä—ã –ø–æ—Å–º–æ—Ç—Ä—è—Ç –Ω–∞–≤–µ—Ä—Ö –∏ –≤–æ—Å–∫–ª–∏–∫–Ω—É—Ç:
"–°–ø–∞—Å–∏–±–æ", –∞ —è –ø—Ä–æ—à–µ–ø—á—É: "–Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ...".
–¢–µ–ø–µ—Ä—å –≤–µ—Å—å –º–∏—Ä —Å—Ç–æ–∏—Ç –Ω–∞ –∫—Ä–∞—é, –≥–ª—è–¥—è –≤–ø–µ—Ä–µ–¥ –≤ —Å–≤–µ—Ç–ª–æ–µ –±—É–¥—É—â–µ–µ, \
–≤—Å–µ —ç—Ç–∏ –î–°–Ω–∏–∫–∏, —Ç–∏–º–ª–∏–¥—ã, —É—Å–ø–µ—à–Ω—ã–µ –ª—é–¥–∏...
–ò –æ—Ç —á–µ–≥–æ-—Ç–æ, –≤–¥—Ä—É–≥, –Ω–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ —Å–∫–∞–∑–∞—Ç—å.
–ü–æ–¥–æ –º–Ω–æ–π —ç—Ç–æ—Ç –≤–æ–ª—à–µ–±–Ω—ã–π –≥–æ—Ä–æ–¥. \
–û–Ω –∑–≤—É—á–∏—Ç, –∫–∞–∫ –±–∞–±–æ—á–∫–∏ –≤ –ø–æ–ª–µ –≥–¥–µ-—Ç–æ –ø–æ–¥ –†–æ—Å—Ç–æ–≤–æ–º.
–ê –Ω–æ—á—å –æ—Ç–¥–∞–µ—Ç —Å–≤–µ–∂–µ—Å—Ç—å—é –∏ –æ–∑–æ–Ω–æ–º –ø–æ—Å–ª–µ –¥–æ–∂–¥—è...''')


def rain():
    if random.random() >= 0.6:
        return True
    else:
        return False


def step2_umbrella():
    print('–£—Ç–∫–∞ –≤–∑—è–ª–∞ –∑–æ–Ω—Ç–∏–∫ –∏ –Ω–∞–ø—Ä–∞–≤–∏–ª–∞—Å—å –≤ –±–∞—Ä.')
    time.sleep(2)

    if rain():
        print('–ù–∞ —É–ª–∏—Ü–µ –Ω–∞—á–∞–ª—Å—è –¥–æ–∂–¥—å üåßÔ∏è, –∏ –£—Ç–∫–∞ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –∑–æ–Ω—Ç–∏–∫–æ–º!')
        time.sleep(2)
        print(
            '–í –±–∞—Ä–µ –£—Ç–∫—É –≤—Å—Ç—Ä–µ—Ç–∏–ª —Å—Ç–∞—Ä—ã–π –¥—Ä—É–≥ - –±–∞—Ä–º–µ–Ω. \
–û–Ω –∑–Ω–∞–µ—Ç, —á—Ç–æ –µ–π –Ω—É–∂–Ω–æ, –æ–Ω –µ–π –∫–∞–∫ –±—Ä–∞—Ç.')
        time.sleep(2)
        return step3()
    else:
        print('–ù–∞ —É–ª–∏—Ü–µ –Ω–µ—Ç –¥–æ–∂–¥—è. –£—Ç–∫–∞, –≤–æ–ª–æ—á–∞ –∑–æ–Ω—Ç–∏–∫ –∑–∞ —Å–æ–±–æ–π, \
–¥–æ–±—Ä–∞–ª–∞—Å—å –¥–æ –±–∞—Ä–∞.')
        time.sleep(2)
        return step3()


def step2_no_umbrella():
    print('–£—Ç–∫–∞ —Ä–µ—à–∏–ª–∞ –Ω–µ –±—Ä–∞—Ç—å –∑–æ–Ω—Ç–∏–∫ –∏ –Ω–∞–ø—Ä–∞–≤–∏–ª–∞—Å—å –≤ –±–∞—Ä.')
    time.sleep(2)

    if rain():
        print('–ü–æ –¥–æ—Ä–æ–≥–µ –Ω–∞—á–∞–ª—Å—è –ª–∏–≤–µ–Ω—å üåßÔ∏è, –∏ –£—Ç–∫–∞ –ø—Ä–æ–º–æ–∫–ª–∞ –¥–æ –Ω–∏—Ç–∫–∏.')
        time.sleep(2)
        print('–ü—Ä–∏–¥—è –≤ –±–∞—Ä, –£—Ç–∫–∞ –±—ã–ª–∞ –º–æ–∫—Ä–æ–π –∏ –∑—è–±–∫–æ–π. \
–û–Ω–∞ —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∞ –±–∞—Ä–º–µ–Ω—É –ø—Ä–æ —Å–≤–æ–∏ –Ω–µ—É–¥–∞—á–∏.')
        time.sleep(2)
        print('–ë–∞—Ä–º–µ–Ω –ø–æ–Ω–∏–º–∞—é—â–µ –∫–∏–≤–Ω—É–ª –∏ –ø—Ä–æ—Ç—è–Ω—É –ø–æ–ª–Ω—ã–π —Å—Ç–∞–∫–∞–Ω –£—Ç–∫–µ.')
        time.sleep(2)
        return step3()
    else:
        print('–ù–∞ —É–ª–∏—Ü–µ –Ω–µ—Ç –¥–æ–∂–¥—è. –£—Ç–∫–∞ –∑–Ω–∞–∫–æ–º–æ–π –¥–æ—Ä–æ–≥–æ–π –¥–æ–±—Ä–∞–ª–∞—Å—å –¥–æ –±–∞—Ä–∞.')
        time.sleep(2)
        return step3()


def step3():
    print('–ß—Ç–æ —É—Ç–∫–∞ —Ö–æ—á–µ—Ç —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?')
    options = {'–ø–æ–¥–æ–π—Ç–∏ –∫ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç—É ': 'step4_waiter_at_my_favorite_bar',
               ' –∑–∞–∫–∞–∑–∞—Ç—å –±—É—Ç—ã–ª–æ—á–∫—É –ª–∏–º–æ–Ω–∞–¥–∞': 'step4_bottle_at_the_bottom'}
    choice = make_choice(options)
    return globals()[options[choice]]()


def make_choice(options):
    option = ''
    while option not in options:
        print('–í—ã–±–µ—Ä–∏—Ç–µ: {}/{}'.format(*options))
        option = input()
    return option


def step4_waiter_at_my_favorite_bar():
    print('–£—Ç–∫–∞ —Å–ø–æ—Ç—ã–∫–∞–µ—Ç—Å—è. –ü–æ–ª–Ω—ã–π —Å—Ç–∞–∫–∞–Ω –ª–µ—Ç–∏—Ç, –æ–Ω–∞ –ø–∞–¥–∞–µ—Ç –∑–∞ –Ω–∏–º. \
–û—Ñ–∏—Ü–∏–∞–Ω—Ç –¥–µ—Ä–∂–∏—Ç –µ–µ - —Å–ø–∞—Å–∏–±–æ. –°–Ω–∏–∑—É –æ–Ω —Ç–∞–∫ –∫—Ä–∞—Å–∏–≤!')
    time.sleep(2)
    print('–ñ–∞–ª–∫–æ –Ω–µ–º–Ω–æ–≥–æ –¥–∞–∂–µ, —á—Ç–æ –æ–Ω –Ω–∞ 7 –ª–µ—Ç –º–ª–∞–¥—à–µ.')
    time.sleep(2)
    return next_morning()


def step4_bottle_at_the_bottom():
    print('–£—Ç–∫–∞ –æ–±—Ä–∞—Ç–∏–ª–∞—Å—å –∫ –±–∞—Ä–º–µ–Ω—É.')
    time.sleep(2)
    print('–û–Ω –æ—Ç–≤–µ—Ç–∏–ª –∫—Ä–∞—Ç–∫–æ: –û—Å–µ–Ω—å –∫–æ–Ω—á–∏–ª–∞—Å—å, –±–µ—Ä–∏ —Å—Ä–∞–∑—É –¥–≤–µ.')
    time.sleep(2)
    return final_fantasy()


def next_morning():
    print('–ù–∞ —Å–ª–µ–¥—É—â–µ–µ —É—Ç—Ä–æ –£—Ç–∫–∞ –ø—Ä–æ—Å–Ω—É–ª–∞—Å—å —É —Å–µ–±—è –¥–æ–º–∞. \
–ß—Ç–æ –æ–Ω–∞ —Å–¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—ã–º?')
    options = {'–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è ': 'end_check_messenger',
               ' –ø–æ–∑–≤–æ–Ω–∏—Ç—å –¥—Ä—É–∑—å—è–º': 'get_a_call'}
    choice = make_choice(options)
    return globals()[options[choice]]()


def end_check_messenger():
    print('–ü—Ä–∏–≤–µ—Ç. –ù—É –∫–∞–∫ —Ç—ã?')
    time.sleep(2)
    return get_a_call()


def get_a_call():
    print('–ó–≤–æ–Ω—é –¥—Ä—É–∑—å—è–º –∏–∑ –ø—Ä—É–¥–∞: –ñ–µ–Ω—é—Å—å! \
–ù–∞ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–µ –≤ –º–æ–µ–º –ª—é–±–∏–º–æ–º –±–∞—Ä–µ...')


if __name__ == '__main__':
    step1()
